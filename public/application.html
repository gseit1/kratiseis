<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up & Apply for a Shop</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* General Styling */
        body {
          font-family: 'Poppins', sans-serif;
          background: linear-gradient(to right, #6a11cb, #2575fc); /* Vibrant gradient background */
          color: #ffffff;
          min-height: 100vh;
          margin: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 20px;
        }
    
        .container-fluid {
          max-width: 1200px;
          background: rgba(255, 255, 255, 0.05); /* Transparent background */
          backdrop-filter: blur(10px);
          border-radius: 15px;
          padding: 2rem;
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
    
        /* Hero Section */
        .hero-section {
          text-align: center;
          background: linear-gradient(to right, #ff6ec4, #7873f5); /* Vibrant gradient */
          color: #ffffff;
          padding: 4rem 2rem;
          border-radius: 15px;
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }
    
        .hero-title {
          font-size: 3rem;
          font-weight: 800;
          margin-bottom: 1rem;
          line-height: 1.2;
        }
    
        .hero-subtitle {
          font-size: 1.25rem;
          margin-bottom: 2rem;
          color: #e0e0e0;
        }
    
        .cta-button {
          background: linear-gradient(135deg, #ff6ec4, #7873f5);
          padding: 1rem 2rem;
          border-radius: 40px;
          color: #fff;
          font-weight: 600;
          font-size: 1.1rem;
          text-decoration: none;
          transition: transform 0.3s ease, box-shadow 0.3s ease;
          display: inline-block;
        }
    
        .cta-button:hover {
          transform: scale(1.05);
          box-shadow: 0 8px 20px rgba(255, 110, 196, 0.4);
        }
    
        /* How-To Section */
        .how-to-section {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 15px;
          padding: 2rem;
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }
    
        .how-to-title {
          text-align: center;
          font-size: 2rem;
          font-weight: 800;
          color: #ff6ec4;
          margin-bottom: 1.5rem;
        }
    
        .steps {
          display: flex;
          flex-direction: column;
          gap: 1.5rem;
        }
    
        .step {
          display: flex;
          align-items: flex-start;
          gap: 1rem;
        }
    
        .step-number {
          background: linear-gradient(135deg, #ff6ec4, #7873f5);
          color: #ffffff;
          font-size: 1.5rem;
          font-weight: 700;
          width: 50px;
          height: 50px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 50%;
          box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }
    
        .step-content h3 {
          font-size: 1.25rem;
          font-weight: 700;
          color: #ffffff;
          margin-bottom: 0.5rem;
        }
    
        .step-content p {
          font-size: 1rem;
          color: #d1d5db;
          margin: 0;
        }
    
        /* Form Section */
        .form-container {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 15px;
          padding: 2rem;
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
          margin-top: 2rem;
        }
    
        .form-container h3 {
          font-size: 1.5rem;
          font-weight: 700;
          color: #ff6ec4;
          margin-bottom: 1rem;
        }
    
        label {
          font-weight: bold;
          color: #ffffff;
        }
    
        input, textarea, button {
          width: 100%;
          padding: 10px;
          margin-bottom: 15px;
          border: 1px solid #ccc;
          border-radius: 5px;
        }
    
        input:focus, textarea:focus {
          border-color: #ff6ec4;
          box-shadow: 0 0 5px rgba(255, 110, 196, 0.5);
        }
    
        button {
          background-color: #ff6ec4;
          color: white;
          border: none;
          cursor: pointer;
          font-size: 1.1rem;
          font-weight: bold;
          transition: background 0.3s ease;
        }
    
        button:hover {
          background-color: #e056b3;
        }
      </style>
</head>
<body>
    <div class="container-fluid">
      <div class="row">
        <!-- Left Column: Hero Section -->
        <div class="col-lg-6">
          <section class="hero-section">
            <div class="hero-content">
              <h1 class="hero-title">Start Your Journey as a Shop Owner</h1>
              <p class="hero-subtitle">Join our platform and bring your shop to life. It's quick, easy, and free to apply!</p>
              <a href="#signup-form" class="cta-button">Get Started Now</a>
            </div>
          </section>
        </div>
  
        <!-- Right Column: How-To Section -->
        <div class="col-lg-6">
          <section class="how-to-section">
            <h2 class="how-to-title">How to Apply for a Shop</h2>
            <div class="steps">
              <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                  <h3>Sign Up</h3>
                  <p>Create an account by filling in your name, email, and password. This will give you access to our platform.</p>
                </div>
              </div>
              <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                  <h3>Fill Out Your Shop Details</h3>
                  <p>Provide your shop name and a brief description to let us know about your business.</p>
                </div>
              </div>
              <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                  <h3>Submit Your Application</h3>
                  <p>Click the submit button, and we’ll review your application. You’ll hear back from us shortly!</p>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
  
      <!-- Form Section -->
      <div class="row mt-4">
        <div class="col-12">
          <div class="container">
            <h2>Sign Up & Apply for a Shop</h2>
            <p class="instructions">Follow the steps below to sign up and apply for a shop.</p>
  
            <!-- Sign Up Form -->
            <div class="form-container">
              <h3>Step 1: Sign Up</h3>
              <form id="signup-form">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" placeholder="Enter your name" required>
  
                <label for="surname">Surname:</label>
                <input type="text" id="surname" name="surname" placeholder="Enter your surname" required>
  
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" placeholder="Enter your email" required>
  
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" placeholder="Enter your password" required>
  
                <button type="submit">Sign Up</button>
              </form>
            </div>
  
            <!-- Post Application Form -->
            <div class="form-container">
              <h3>Step 2: Apply for a Shop</h3>
              <form id="post-application-form">
                <label for="shopName">Shop Name:</label>
                <input type="text" id="shopName" name="shopName" placeholder="Enter your shop name" required>
  
                <label for="shopDescription">Shop Description:</label>
                <textarea id="shopDescription" name="shopDescription" rows="5" placeholder="Describe your shop" required></textarea>
  
                <button type="submit">Submit Application</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>    <script>
        // Initialize userId from localStorage
        let userId = localStorage.getItem('userId');
    
        // Handle Sign Up Form Submission
        document.getElementById('signup-form').addEventListener('submit', async function(event) {
            event.preventDefault();
    
            const name = document.getElementById('name').value;
            const surname = document.getElementById('surname').value;
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
    
            try {
                const response = await fetch('/api/signup', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ name, surname, email, password }),
                });
    
                const result = await response.json();
                if (response.ok) {
                    alert('Sign Up Successful!');
                    userId = result.userId; // Save userId
                    localStorage.setItem('userId', userId); // Save to localStorage
                    console.log('User ID saved to localStorage:', userId);
                } else {
                    alert('Error: ' + result.message);
                }
            } catch (error) {
                console.error('Error during sign up:', error);
                alert('An error occurred during sign up.');
            }
        });
    
        // Handle Post Application Form Submission
        document.getElementById('post-application-form').addEventListener('submit', async function(event) {
            event.preventDefault();
    
            if (!userId) {
                alert('Please sign up first!');
                return;
            }
    
            const shopName = document.getElementById('shopName').value;
            const shopDescription = document.getElementById('shopDescription').value;
    
            try {
                const response = await fetch('/api/applications', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ userId, shopName, shopDescription }),
                });
    
                const result = await response.json();
                if (response.ok) {
                    alert('Application Submitted Successfully!');
                } else {
                    alert('Error: ' + result.message);
                }
            } catch (error) {
                console.error('Error during application submission:', error);
                alert('An error occurred during application submission.');
            }
        });
    </script>
</body>
</html>